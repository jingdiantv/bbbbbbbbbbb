ipv6: true
allow-lan: true
mixed-port: 7890
unified-delay: false
tcp-concurrent: true
external-controller: 127.0.0.1:9090
external-ui: ui
external-ui-url: https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip
geo-update-interval: 24
geodata-mode: true
geox-url:
  geoip: https://mirror.ghproxy.com/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip-lite.dat
  geosite: https://mirror.ghproxy.com/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geosite.dat
  mmdb: https://mirror.ghproxy.com/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/country-lite.mmdb
find-process-mode: strict
global-client-fingerprint: chrome
profile:
  store-selected: true
  store-fake-ip: true
sniffer:
  enable: true
  sniff:
    HTTP:
      ports: [80, 8080-8880]
      override-destination: true
    TLS:
      ports: [443, 8443]
    QUIC:
      ports: [443, 8443]
tun:
  enable: true
  stack: mixed
  dns-hijack:
    - any:53
  auto-route: true
  auto-detect-interface: true
dns:
  enable: true
  listen: :1053
  ipv6: true
  enhanced-mode: fake-ip
  fake-ip-range: 28.0.0.1/8
  fake-ip-filter:
    - "*"
    - +.lan
    - +.local
  nameserver:
    - https://doh.pub/dns-query
    - https://dns.alidns.com/dns-query
  proxy-server-nameserver:
    - https://doh.pub/dns-query
  nameserver-policy:
    geosite:private:
      - https://doh.pub/dns-query
      - https://dns.alidns.com/dns-query
    geosite:geolocation-!cn:
      - https://dns.cloudflare.com/dns-query#dns
      - https://dns.google/dns-query#dns
proxies:
        - *
proxy-groups:
  - name: ğŸŒ èŠ‚ç‚¹é€‰æ‹©
    type: select
    proxies:
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - ğŸ”¯ æ•…éšœè½¬ç§»
      - ğŸ”® è´Ÿè½½å‡è¡¡
      - DIRECT
      - *
  - name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    proxies:
      - *
  - name: ğŸ”¯ æ•…éšœè½¬ç§»
    type: fallback
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    proxies:
      - *
  - name: ğŸ”® è´Ÿè½½å‡è¡¡
    type: load-balance
    strategy: consistent-hashing
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    proxies:
      - *
  - name: ğŸŒ å›½å†…åª’ä½“
    type: select
    proxies:
      - ğŸ¯ å…¨çƒç›´è¿
      - ğŸŒ èŠ‚ç‚¹é€‰æ‹©
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - ğŸ”¯ æ•…éšœè½¬ç§»
      - ğŸ”® è´Ÿè½½å‡è¡¡
      - *
  - name: ğŸŒ å›½å¤–åª’ä½“
    type: select
    proxies:
      - ğŸŒ èŠ‚ç‚¹é€‰æ‹©
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - ğŸ”¯ æ•…éšœè½¬ç§»
      - ğŸ”® è´Ÿè½½å‡è¡¡
      - ğŸ¯ å…¨çƒç›´è¿
      - *
  - name: ğŸ“¢ è°·æ­ŒFCM
    type: select
    proxies:
      - ğŸŒ èŠ‚ç‚¹é€‰æ‹©
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - ğŸ”¯ æ•…éšœè½¬ç§»
      - ğŸ”® è´Ÿè½½å‡è¡¡
      - ğŸ¯ å…¨çƒç›´è¿
      - *
  - name: â“‚ï¸ å¾®è½¯æœåŠ¡
    type: select
    proxies:
      - ğŸ¯ å…¨çƒç›´è¿
      - ğŸŒ èŠ‚ç‚¹é€‰æ‹©
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - ğŸ”¯ æ•…éšœè½¬ç§»
      - ğŸ”® è´Ÿè½½å‡è¡¡
      - *
  - name: ğŸ è‹¹æœæœåŠ¡
    type: select
    proxies:
      - ğŸ¯ å…¨çƒç›´è¿
      - ğŸŒ èŠ‚ç‚¹é€‰æ‹©
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - ğŸ”¯ æ•…éšœè½¬ç§»
      - ğŸ”® è´Ÿè½½å‡è¡¡
      - *
  - name: ğŸ“² ç”µæŠ¥æ¶ˆæ¯
    type: select
    proxies:
      - ğŸŒ èŠ‚ç‚¹é€‰æ‹©
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - ğŸ”¯ æ•…éšœè½¬ç§»
      - ğŸ”® è´Ÿè½½å‡è¡¡
      - ğŸ¯ å…¨çƒç›´è¿
      - *
  - name: ğŸ“¹ æ²¹ç®¡è§†é¢‘
    type: select
    proxies:
      - ğŸŒ èŠ‚ç‚¹é€‰æ‹©
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - ğŸ”¯ æ•…éšœè½¬ç§»
      - ğŸ”® è´Ÿè½½å‡è¡¡
      - ğŸ¯ å…¨çƒç›´è¿
      - *
  - name: ğŸ¯ å…¨çƒç›´è¿
    type: select
    proxies:
      - DIRECT
      - ğŸŒ èŠ‚ç‚¹é€‰æ‹©
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
  - name: ğŸ›‘ å…¨çƒæ‹¦æˆª
    type: select
    proxies:
      - REJECT
      - DIRECT
  - name: ğŸŸ æ¼ç½‘ä¹‹é±¼
    type: select
    proxies:
      - ğŸŒ èŠ‚ç‚¹é€‰æ‹©
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - ğŸ”¯ æ•…éšœè½¬ç§»
      - ğŸ”® è´Ÿè½½å‡è¡¡
      - *

#è§„åˆ™
rule-providers:
  LocalAreaNetwork:
    type: http
    behavior: domain
    url: "https://mirror.ghproxy.com/https://raw.githubusercontent.com/mphin/ProxyTools/main/rules/classical/LocalAreaNetwork.yaml"
    path: ./Ruleset/LocalAreaNetwork.yaml
    interval: 86400
  Google:
    type: http
    behavior: domain
    url: "https://mirror.ghproxy.com/https://raw.githubusercontent.com/mphin/ProxyTools/main/rules/classical/Google.yaml"
    path: ./Ruleset/Google.yaml
    interval: 86400
  OpenaiNetflix:
    type: http
    behavior: domain
    url: "https://mirror.ghproxy.com/https://raw.githubusercontent.com/mphin/ProxyTools/main/rules/classical/OpenaiNetflix.yaml"
    path: ./Ruleset/OpenaiNetflix.yaml
    interval: 86400
  ProxyMedia:
    type: http
    behavior: domain
    url: "https://mirror.ghproxy.com/https://raw.githubusercontent.com/mphin/ProxyTools/main/rules/classical/ProxyMedia.yaml"
    path: ./Ruleset/ProxyMedia.yaml
    interval: 86400
  Microsoft:
    type: http
    behavior: domain
    url: "https://mirror.ghproxy.com/https://raw.githubusercontent.com/mphin/ProxyTools/main/rules/classical/Microsoft.yaml"
    path: ./Ruleset/Microsoft.yaml
    interval: 86400
  Apple:
    type: http
    behavior: domain
    url: "https://mirror.ghproxy.com/https://raw.githubusercontent.com/mphin/ProxyTools/main/rules/classical/Apple.yaml"
    path: ./Ruleset/Apple.yaml
    interval: 86400
  ChinaMedia:
    type: http
    behavior: domain
    url: "https://mirror.ghproxy.com/https://raw.githubusercontent.com/mphin/ProxyTools/main/rules/classical/ChinaMedia.yaml"
    path: ./Ruleset/ChinaMedia.yaml
    interval: 86400
  Telegram:
    type: http
    behavior: domain
    url: "https://mirror.ghproxy.com/https://raw.githubusercontent.com/mphin/ProxyTools/main/rules/classical/Telegram.yaml"
    path: ./Ruleset/Telegram.yaml
    interval: 86400
  ProxyGFWlist:
    type: http
    behavior: domain
    url: "https://mirror.ghproxy.com/https://raw.githubusercontent.com/mphin/ProxyTools/main/rules/classical/ProxyGFWlist.yaml"
    path: ./Ruleset/ProxyGFWlist.yaml
    interval: 86400
  GlobalDirect:
    type: http
    behavior: domain
    url: "https://mirror.ghproxy.com/https://raw.githubusercontent.com/mphin/ProxyTools/main/rules/classical/GlobalDirect.yaml"
    path: ./Ruleset/GlobalDirect.yaml
    interval: 86400
  YouTube:
    type: http
    behavior: domain
    url: "https://mirror.ghproxy.com/https://raw.githubusercontent.com/ClodQiu/Clash.Base64/Grey/Ruleset/YouTube.yaml"
    path: ./Ruleset/YouTube.yaml
    interval: 86400

rules:
  - RULE-SET,LocalAreaNetwork,ğŸ¯ å…¨çƒç›´è¿
  - DOMAIN,clash.razord.top,ğŸ¯ å…¨çƒç›´è¿
  - DOMAIN,yacd.haishan.me,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,Google,ğŸ“¢ è°·æ­ŒFCM
  - RULE-SET,ProxyMedia,ğŸŒ å›½å¤–åª’ä½“
  - RULE-SET,Microsoft,â“‚ï¸ å¾®è½¯æœåŠ¡
  - RULE-SET,Apple,ğŸ è‹¹æœæœåŠ¡
  - RULE-SET,ChinaMedia,ğŸŒ å›½å†…åª’ä½“
  - RULE-SET,Telegram,ğŸ“² ç”µæŠ¥æ¶ˆæ¯
  - RULE-SET,YouTube,ğŸ“¹ æ²¹ç®¡è§†é¢‘
  - RULE-SET,ProxyGFWlist,ğŸŒ èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,GlobalDirect,ğŸ¯ å…¨çƒç›´è¿
  - GEOIP,LAN,ğŸ¯ å…¨çƒç›´è¿,no-resolve
  - GEOIP,CN,ğŸ¯ å…¨çƒç›´è¿,no-resolve
  - MATCH,ğŸŒ èŠ‚ç‚¹é€‰æ‹©
